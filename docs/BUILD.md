# æ„å»ºå’Œæ‰“åŒ…è¯´æ˜

## ğŸ“¦ å¯ç”¨çš„æ„å»ºå‘½ä»¤

### åŸºæœ¬å‘½ä»¤

```bash
# æ¸…ç†æ„å»ºè¾“å‡º
npm run clean

# ç¼–è¯‘ TypeScript ä»£ç 
npm run compile

# ç›‘è§†æ¨¡å¼ç¼–è¯‘ï¼ˆå¼€å‘æ—¶ä½¿ç”¨ï¼‰
npm run watch

# ç‰ˆæœ¬å·é€’å¢ï¼ˆ0.0.1 -> 0.0.2ï¼‰
npm run bump-version

# åŸºæœ¬æ„å»ºï¼ˆä¸é€’å¢ç‰ˆæœ¬ï¼‰
npm run build

# æ„å»ºå¹¶é€’å¢ç‰ˆæœ¬å·
npm run build:bump
```

### æ‰“åŒ…å‘½ä»¤

```bash
# åŸºæœ¬æ‰“åŒ…ï¼ˆä¸é€’å¢ç‰ˆæœ¬ï¼‰
npm run package

# æ‰“åŒ…å¹¶é€’å¢ç‰ˆæœ¬å·
npm run package:bump

# å‘å¸ƒåˆ° VS Code å¸‚åœºï¼ˆéœ€è¦é…ç½®å‘å¸ƒtokenï¼‰
npm run publish
```

### é«˜çº§æ„å»ºè„šæœ¬

```bash
# ä½¿ç”¨æ„å»ºè„šæœ¬ï¼ˆæ¨èï¼‰
node scripts/build.js

# ä½¿ç”¨æ„å»ºè„šæœ¬å¹¶é€’å¢ç‰ˆæœ¬å·
node scripts/build.js --bump
# æˆ–è€…
node scripts/build.js -b
```

## ğŸ”§ æ„å»ºæµç¨‹

æ„å»ºè„šæœ¬æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. **æ¸…ç†** - åˆ é™¤ `dist/` ç›®å½•å’Œæ‰€æœ‰æ—§æ–‡ä»¶
2. **ç‰ˆæœ¬é€’å¢**ï¼ˆå¯é€‰ï¼‰- è‡ªåŠ¨é€’å¢è¡¥ä¸ç‰ˆæœ¬å·
3. **ä»£ç æ£€æŸ¥**ï¼ˆæš‚æ—¶ç¦ç”¨ï¼‰- ESLint ä»£ç é£æ ¼æ£€æŸ¥  
4. **ç¼–è¯‘** - TypeScript ç¼–è¯‘ä¸º JavaScriptï¼Œè¾“å‡ºåˆ° `dist/` ç›®å½•
5. **æ‰“åŒ…** - ä½¿ç”¨ vsce æ‰“åŒ…ä¸º `.vsix` æ‰©å±•æ–‡ä»¶ï¼Œä¿å­˜åˆ° `dist/` ç›®å½•

## ğŸ“ è¾“å‡ºæ–‡ä»¶

æ„å»ºæˆåŠŸåä¼šåœ¨ `dist/` ç›®å½•ä¸­ç”Ÿæˆï¼š
- `client/` - å®¢æˆ·ç«¯ç¼–è¯‘åçš„ JavaScript æ–‡ä»¶
- `server/` - æœåŠ¡å™¨ç«¯ç¼–è¯‘åçš„ JavaScript æ–‡ä»¶  
- `api-x.x.x.vsix` - VS Code æ‰©å±•åŒ…

## ğŸš€ å®‰è£…æ‰©å±•

### æ–¹æ³•1ï¼šä» .vsix æ–‡ä»¶å®‰è£…
```bash
code --install-extension dist/api-0.0.4.vsix
```

### æ–¹æ³•2ï¼šåœ¨ VS Code ä¸­å®‰è£…
1. æ‰“å¼€ VS Code
2. æŒ‰ `Ctrl+Shift+P` (Windows/Linux) æˆ– `Cmd+Shift+P` (Mac)
3. è¾“å…¥ "Extensions: Install from VSIX..."
4. é€‰æ‹©ç”Ÿæˆçš„ `.vsix` æ–‡ä»¶

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

ç‰ˆæœ¬å·æ ¼å¼ï¼š`major.minor.patch`

- `npm run bump-version` åªé€’å¢è¡¥ä¸ç‰ˆæœ¬ (x.x.z+1)
- å¦‚éœ€é€’å¢å…¶ä»–ç‰ˆæœ¬å·ï¼Œå¯æ‰‹åŠ¨ç¼–è¾‘ `package.json`

## ğŸ“ å¼€å‘å»ºè®®

### å¼€å‘æ—¶
```bash
# å¯åŠ¨ç›‘è§†æ¨¡å¼
npm run watch

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨è°ƒè¯•
# æŒ‰ F5 åœ¨ VS Code ä¸­å¯åŠ¨ Extension Development Host
```

### å‘å¸ƒå‰
```bash
# å®Œæ•´æ„å»ºå¹¶æµ‹è¯•
npm run build:bump

# å®‰è£…å¹¶æµ‹è¯•æ‰©å±•
code --install-extension dist/api-x.x.x.vsix
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ„å»ºå‰ç¡®ä¿ä»£ç å·²æäº¤** - é¿å…ä¸¢å¤±æœªä¿å­˜çš„æ›´æ”¹
2. **æµ‹è¯•åŠŸèƒ½** - æ¯æ¬¡æ„å»ºååœ¨ Extension Development Host ä¸­æµ‹è¯•
3. **ç‰ˆæœ¬æ§åˆ¶** - æ„å»ºè„šæœ¬ä¼šè‡ªåŠ¨æ›´æ–° `package.json` ä¸­çš„ç‰ˆæœ¬å·
4. **è®¸å¯è¯æ–‡ä»¶** - è€ƒè™‘æ·»åŠ  LICENSE æ–‡ä»¶ä»¥æ¶ˆé™¤è­¦å‘Š
5. **æ–‡ä»¶å¤§å°** - å½“å‰ä½¿ç”¨ `.vscodeignore` æ’é™¤å¼€å‘æ–‡ä»¶ï¼Œä¿æŒæ‰©å±•åŒ…ç²¾ç®€

## ğŸ› å¸¸è§é—®é¢˜

### TypeScript ç¼–è¯‘é”™è¯¯ "Cannot write file because it would overwrite input file"
å¦‚æœé‡åˆ°è¿™ä¸ªé”™è¯¯ï¼š
1. æ¸…ç†æ„å»ºè¾“å‡ºï¼š`npm run clean`
2. æ£€æŸ¥ `tsconfig.json` ä¸­æ˜¯å¦æ­£ç¡®æ’é™¤äº† `out` ç›®å½•
3. ç¡®ä¿ `include` å­—æ®µåªåŒ…å«æºæ–‡ä»¶ç›®å½• `src/**/*`

### ESLint é”™è¯¯
å¦‚æœé‡åˆ° ESLint é…ç½®é—®é¢˜ï¼Œä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼š
1. ä¿®æ”¹ `scripts/build.js` æ³¨é‡Šæ‰ lint æ­¥éª¤
2. æˆ–è€…ä¿®å¤ `.eslintrc.js` é…ç½®

### æ„å»ºå¤±è´¥
1. æ£€æŸ¥ TypeScript ç¼–è¯‘é”™è¯¯
2. ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²å®‰è£…ï¼š`npm install`
3. æ¸…ç†åé‡è¯•ï¼š`npm run clean && npm run build`

### æ‰©å±•æ— æ³•å®‰è£…
1. æ£€æŸ¥ VS Code ç‰ˆæœ¬å…¼å®¹æ€§
2. éªŒè¯ `package.json` ä¸­çš„ `engines.vscode` å­—æ®µ
3. å°è¯•é‡æ–°æ„å»ºæ‰©å±•